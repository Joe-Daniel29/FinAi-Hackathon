<!DOCTYPE html>
<html>
  <head>
    <title>Detailed Expenses</title>
    <link rel="stylesheet" href="../dist/output.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body class="bg-[#FAFAF5] p-8">
    <div class="max-w-4xl mx-auto">
      <!-- Add back button -->
      <button
        onclick="window.location.href='index.html'"
        class="my-5 bg-[#426B1F] text-white box-border px-5 py-2 rounded-md overflow-hidden"
      >
        Back
      </button>

      <h1 class="text-3xl mb-8">Detailed Expenses</h1>
      <div class="mt-8 bg-white p-6 rounded-lg shadow-lg mb-8">
        <canvas id="detailedChart" height="400"></canvas>
      </div>
      <div id="expenseList" class="bg-white p-6 rounded-lg shadow-lg">
        <h2 class="text-2xl mb-4">Expense History</h2>
        <div id="expenseItems"></div>
        <div class="transaction">
          <div id="description"></div>
          <div id="amount-date"></div>
        </div>
      </div>
      <div class="text-xl">Today's Total: ₹<span id="dailyTotal">0</span></div>
    </div>
    <div class="bg-white p-6 rounded-lg shadow-lg mt-8">
      <h2 class="text-2xl mb-4">Chatbot</h2>
      <div class="flex gap-4">
        <input
          type="text"
          id="expenseDescription"
          placeholder="Enter expense description"
          class="border rounded px-4 py-2 w-full"
        />

        <button
          id="chatbotSend"
          class="bg-[#426B1F] px-4 py-2 rounded-md text-white"
        >
          Send
        </button>
      </div>
      <div id="response" class="mt-4 p-4 bg-gray-200 rounded-lg"></div>
    </div>
    <script src="expenses.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@5.0.2/lib/marked.umd.min.js"></script>
    <script>
      // Before
      container.innerHTML = todaysExpenses
        .map(
          (exp) => `
          <div class="transaction">
            <div>${exp.description}</div>
            <div>₹${exp.amount.toFixed(2)}</div>
          </div>
        `
        )
        .join("");
    </script>
  </body>
</html>
